<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallax Galaxy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyan: #00d4ff;
            --purple: #7b2ff7;
            --pink: #f72fb0;
            --dark: #050510;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --text-muted: rgba(255, 255, 255, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
            color: white;
            background: var(--dark);
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: background 0.3s, transform 0.5s;
            transform: translateY(-100%);
        }

        nav.visible {
            transform: translateY(0);
        }

        nav.scrolled {
            background: rgba(5, 5, 15, 0.95);
            backdrop-filter: blur(10px);
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 26px;
            font-weight: 600;
            letter-spacing: 6px;
            color: var(--text-primary);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 13px;
            font-weight: 400;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--text-secondary);
            transition: width 0.3s;
        }

        .nav-links a:hover {
            color: var(--text-primary);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .burger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 6px;
        }

        .burger div {
            width: 28px;
            height: 2px;
            background: white;
            transition: all 0.3s;
        }

        /* Fond galaxie */
        .galaxy-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
        }

        .nebula {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.35;
            background: 
                radial-gradient(ellipse at 20% 80%, rgba(123, 47, 247, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(0, 212, 255, 0.08) 0%, transparent 40%),
                radial-gradient(ellipse at 60% 60%, rgba(247, 47, 176, 0.06) 0%, transparent 45%);
        }

        .star-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
        }

        .star.twinkle {
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Container principal */
        .main-container {
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            height: 100vh;
            scroll-behavior: smooth;
        }

        /* Sections */
        section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            scroll-snap-align: start;
            position: relative;
        }

        /* Hero */
        .hero {
            flex-direction: column;
            gap: 30px;
            overflow: hidden;
        }

        .hero-content {
            text-align: center;
            z-index: 10;
            position: relative;
        }

        .hero h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(48px, 10vw, 110px);
            font-weight: 600;
            line-height: 1.1;
            color: var(--text-primary);
            opacity: 0;
            transform: translateY(50px);
            animation: heroReveal 1.2s ease-out 0.5s forwards;
        }

        .hero h1 .line2 {
            display: block;
            font-style: italic;
            font-weight: 400;
            color: var(--text-secondary);
        }

        @keyframes heroReveal {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-subtitle {
            font-size: clamp(12px, 1.5vw, 16px);
            color: var(--text-muted);
            letter-spacing: 6px;
            text-transform: uppercase;
            margin-top: 30px;
            opacity: 0;
            animation: fadeUp 1s ease-out 1s forwards;
        }

        @keyframes fadeUp {
            to { opacity: 1; }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            opacity: 0;
            animation: fadeUp 1s ease-out 1.5s forwards;
        }

        .scroll-indicator span {
            font-size: 11px;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--text-muted);
        }

        .scroll-line {
            width: 1px;
            height: 60px;
            background: linear-gradient(to bottom, var(--text-muted), transparent);
            position: relative;
            overflow: hidden;
        }

        .scroll-line::after {
            content: '';
            position: absolute;
            top: -20px;
            left: 0;
            width: 100%;
            height: 20px;
            background: var(--text-secondary);
            animation: scrollDown 2s ease-in-out infinite;
        }

        @keyframes scrollDown {
            0% { top: -20px; opacity: 0; }
            30% { opacity: 1; }
            100% { top: 60px; opacity: 0; }
        }

        /* Hero particles */
        .hero-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .hero-particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: particleFloat 8s ease-in-out infinite;
        }

        @keyframes particleFloat {
            0%, 100% {
                transform: translateY(0) scale(1);
                opacity: 0;
            }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            50% {
                transform: translateY(-100px) scale(1.5);
            }
        }

        /* Canvas container */
        .canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .canvas-container.visible {
            opacity: 1;
        }

        #speedCanvas {
            width: 100%;
            height: 100%;
        }

        /* Contenu texte */
        .content-box {
            max-width: 800px;
            padding: 60px;
            z-index: 5;
            position: relative;
        }

        .content-box h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(42px, 6vw, 72px);
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 30px;
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .content-box p {
            font-size: clamp(15px, 1.8vw, 18px);
            font-weight: 300;
            color: var(--text-secondary);
            line-height: 1.9;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .content-box.visible h2 {
            opacity: 1;
            transform: translateX(0);
        }

        .content-box.visible p {
            opacity: 1;
            transform: translateY(0);
        }

        .content-box.visible p:nth-child(2) { transition-delay: 0.2s; }
        .content-box.visible p:nth-child(3) { transition-delay: 0.4s; }

        /* Section finale */
        .final-section {
            flex-direction: column;
            gap: 60px;
        }

        .final-section .content-box {
            text-align: center;
        }

        /* Invitation container */
        .invitation-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .invitation-line {
            width: 1px;
            height: 80px;
            background: linear-gradient(to bottom, rgba(255,255,255,0.3), rgba(255,255,255,0.1));
            position: relative;
            opacity: 0;
            transform: scaleY(0);
            transform-origin: top;
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1) 0.3s;
        }

        .invitation-line::before {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
        }

        .invitation-line.visible {
            opacity: 1;
            transform: scaleY(1);
        }

        .experience-btn {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            font-family: 'Outfit', sans-serif;
            font-size: 13px;
            font-weight: 400;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0;
            transform: scale(0.8);
        }

        .experience-btn.visible {
            opacity: 1;
            transform: scale(1);
        }

        .experience-btn:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
            box-shadow: 0 0 60px rgba(255, 255, 255, 0.1);
        }

        .btn-ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%) scale(1);
            animation: ripple 3s ease-out infinite;
        }

        .btn-ripple:nth-child(2) { animation-delay: 1s; }
        .btn-ripple:nth-child(3) { animation-delay: 2s; }

        @keyframes ripple {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }
            100% {
                transform: translate(-50%, -50%) scale(2);
                opacity: 0;
            }
        }

        .btn-text {
            position: relative;
            z-index: 2;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav { padding: 20px; }
            
            .nav-links {
                position: fixed;
                right: -100%;
                top: 0;
                height: 100vh;
                width: 70%;
                background: rgba(5, 5, 15, 0.98);
                flex-direction: column;
                align-items: center;
                justify-content: center;
                transition: right 0.3s;
            }

            .nav-links.active { right: 0; }
            .burger { display: flex; }
            .content-box { padding: 40px 20px; }
            
            .experience-btn {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="nav">
        <div class="logo">COSMIC</div>
        <ul class="nav-links" id="navLinks">
            <li><a href="#home">Accueil</a></li>
            <li><a href="#s1">Pr√©sentation</a></li>
            <li><a href="#s2">Objectifs</a></li>
            <li><a href="#s3">Vision</a></li>
            <li><a href="#s4">Contact</a></li>
            <li><a href="#s5">Exp√©rience</a></li>
        </ul>
        <div class="burger" id="burger">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </nav>

    <!-- Fond galaxie -->
    <div class="galaxy-bg">
        <div class="nebula"></div>
        <div class="star-layer" id="layerFar"></div>
        <div class="star-layer" id="layerMid"></div>
        <div class="star-layer" id="layerNear"></div>
    </div>

    <!-- Canvas r√©seau neural -->
    <div class="canvas-container" id="canvasContainer">
        <canvas id="speedCanvas"></canvas>
    </div>

    <!-- Sections -->
    <div class="main-container" id="mainContainer">
        <section id="home" class="hero">
            <div class="hero-particles" id="heroParticles"></div>
            <div class="hero-content">
                <h1>
                    <span class="line1">Voyagez dans</span>
                    <span class="line2">l'Espace</span>
                </h1>
                <p class="hero-subtitle">Une exp√©rience parallax immersive</p>
            </div>
            <div class="scroll-indicator">
                <span>Scroll</span>
                <div class="scroll-line"></div>
            </div>
        </section>

        <section id="s1">
            <div class="content-box" data-reveal>
                <h2>Pr√©sentation</h2>
                <p>Bienvenue dans un univers o√π la technologie rencontre l'art cosmique. Notre plateforme explore les fronti√®res de l'exp√©rience utilisateur √† travers des interfaces immersives et innovantes.</p>
                <p>Chaque pixel, chaque animation, chaque transition est pens√©e pour vous transporter au-del√† des limites du web traditionnel.</p>
            </div>
        </section>

        <section id="s2">
            <div class="content-box" data-reveal>
                <h2>Objectifs</h2>
                <p>Nous visons √† cr√©er des exp√©riences web qui captivent, inspirent et transcendent les attentes. Notre mission est de repousser les limites du possible en combinant design avant-gardiste et technologie de pointe.</p>
                <p>Innovation, cr√©ativit√© et excellence sont les piliers de notre approche.</p>
            </div>
        </section>

        <section id="s3">
            <div class="content-box" data-reveal>
                <h2>Vision</h2>
                <p>Nous imaginons un futur o√π chaque interaction digitale devient une aventure m√©morable. Notre vision est de transformer la fa√ßon dont les utilisateurs per√ßoivent et interagissent avec le web.</p>
                <p>L'espace infini nous inspire √† cr√©er des interfaces sans limites.</p>
            </div>
        </section>

        <section id="s4">
            <div class="content-box" data-reveal>
                <h2>Contact</h2>
                <p>Pr√™t √† embarquer pour un voyage cosmique ? Contactez-nous pour donner vie √† vos projets les plus ambitieux. Ensemble, cr√©ons quelque chose d'extraordinaire.</p>
                <p>L'aventure ne fait que commencer...</p>
            </div>
        </section>

        <section id="s5" class="final-section">
            <div class="content-box" data-reveal>
                <h2>Pr√™t pour une nouvelle dimension ?</h2>
                <p>Explorez l'inconnu et repoussez les fronti√®res du possible.</p>
            </div>
            <div class="invitation-container">
                <div class="invitation-line" id="invitationLine"></div>
                <button class="experience-btn" id="experienceBtn">
                    <span class="btn-text">D√©marrer</span>
                    <div class="btn-ripple"></div>
                    <div class="btn-ripple"></div>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </section>
    </div>

    <script>
        // ===== CONFIGURATION =====
        const CONFIG = {
            stars: {
                far: { count: 120, minSize: 1, maxSize: 2, minOp: 0.2, maxOp: 0.5 },
                mid: { count: 80, minSize: 1.5, maxSize: 3, minOp: 0.4, maxOp: 0.7 },
                near: { count: 50, minSize: 2, maxSize: 4, minOp: 0.6, maxOp: 1 }
            },
            heroParticles: 12,
            nodes: window.innerWidth < 768 ? 35 : 55,
            maxConnectionDistance: window.innerWidth < 768 ? 100 : 130
        };

        // ===== ELEMENTS =====
        const layerFar = document.getElementById('layerFar');
        const layerMid = document.getElementById('layerMid');
        const layerNear = document.getElementById('layerNear');
        const canvasContainer = document.getElementById('canvasContainer');
        const canvas = document.getElementById('speedCanvas');
        const ctx = canvas.getContext('2d');
        const nav = document.getElementById('nav');
        const mainContainer = document.getElementById('mainContainer');
        const heroParticlesContainer = document.getElementById('heroParticles');
        const invitationLine = document.getElementById('invitationLine');
        const experienceBtn = document.getElementById('experienceBtn');

        // ===== SETUP CANVAS =====
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // ===== G√âN√âRATION DES √âTOILES =====
        function createStars(container, config) {
            const { count, minSize, maxSize, minOp, maxOp } = config;
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.className = 'star' + (Math.random() > 0.75 ? ' twinkle' : '');
                const size = minSize + Math.random() * (maxSize - minSize);
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.opacity = minOp + Math.random() * (maxOp - minOp);
                if (star.classList.contains('twinkle')) {
                    star.style.animationDelay = Math.random() * 3 + 's';
                }
                container.appendChild(star);
            }
        }

        createStars(layerFar, CONFIG.stars.far);
        createStars(layerMid, CONFIG.stars.mid);
        createStars(layerNear, CONFIG.stars.near);

        // ===== HERO PARTICLES =====
        function createHeroParticles() {
            for (let i = 0; i < CONFIG.heroParticles; i++) {
                const particle = document.createElement('div');
                particle.className = 'hero-particle';
                const size = 3 + Math.random() * 6;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = 10 + Math.random() * 80 + '%';
                particle.style.top = 20 + Math.random() * 60 + '%';
                particle.style.background = `radial-gradient(circle, rgba(255,255,255,0.6), transparent)`;
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = 6 + Math.random() * 4 + 's';
                heroParticlesContainer.appendChild(particle);
            }
        }
        createHeroParticles();

        // ===== R√âSEAU NEURAL - PARCOURS ORGANIQUE AMBIGU =====
        const nodes = [];
        
        // N≈ìuds principaux avec positions plus ambigu√´s (pas r√©gulier gauche-droite)
        const mainNodes = [
            { section: 0.5, x: 0.38 },   // Pr√©sentation - l√©g√®rement √† gauche
            { section: 1.5, x: 0.32 },   // Objectifs - encore plus √† gauche
            { section: 2.5, x: 0.55 },   // Vision - vers le centre-droit
            { section: 3.5, x: 0.45 },   // Contact - l√©g√®rement √† gauche du centre
            { section: 4.15, x: 0.5 }    // Invitation - centr√©
        ];

        // N≈ìuds interm√©diaires
        const intermediateNodes = [];
        for (let i = 0; i < mainNodes.length - 1; i++) {
            const current = mainNodes[i];
            const next = mainNodes[i + 1];
            
            const numIntermediate = 1 + Math.floor(Math.random() * 2);
            for (let j = 1; j <= numIntermediate; j++) {
                const t = j / (numIntermediate + 1);
                const midX = current.x + (next.x - current.x) * t;
                const midY = current.section + (next.section - current.section) * t;
                intermediateNodes.push({
                    section: midY,
                    x: midX + (Math.random() - 0.5) * 0.1,
                    isIntermediate: true
                });
            }
        }

        // Branches (plus discr√®tes)
        const branchNodes = [];
        mainNodes.forEach((main, idx) => {
            if (idx === mainNodes.length - 1) return;
            
            const branchCount = 2 + Math.floor(Math.random() * 2);
            for (let i = 0; i < branchCount; i++) {
                const baseAngle = Math.random() * Math.PI * 2;
                const distance = 0.06 + Math.random() * 0.08;
                const branchX = main.x + Math.cos(baseAngle) * distance;
                const branchY = main.section + Math.sin(baseAngle) * 0.12;
                
                branchNodes.push({
                    parentIdx: idx,
                    x: Math.max(0.15, Math.min(0.85, branchX)),
                    y: branchY,
                    baseX: Math.max(0.15, Math.min(0.85, branchX)),
                    baseY: branchY,
                    size: 2 + Math.random() * 1.5,
                    opacity: 0.3 + Math.random() * 0.2,
                    angle: Math.random() * Math.PI * 2,
                    speed: 0.0003 + Math.random() * 0.0003
                });
            }
        });

        // N≈ìuds flottants
        for (let i = 0; i < CONFIG.nodes; i++) {
            nodes.push({
                x: Math.random(),
                y: Math.random() * 4.5,
                baseX: Math.random(),
                baseY: Math.random() * 4.5,
                size: Math.random() * 2.5 + 1.5,
                opacity: Math.random() * 0.3 + 0.2,
                speed: Math.random() * 0.0004 + 0.0002,
                angle: Math.random() * Math.PI * 2
            });
        }

        // ===== VARIABLES GLOBALES =====
        let time = 0;
        let mouseX = 0;
        let mouseY = 0;
        let scrollY = 0;
        const sectionHeight = window.innerHeight;

        // ===== FONCTION DE COURBE TREMBLANTE =====
        function drawTremblingCurve(x1, y1, x2, y2, opacity = 0.2) {
            const segments = 12;
            const points = [];
            
            // G√©n√©rer les points avec tremblement
            for (let i = 0; i <= segments; i++) {
                const t = i / segments;
                const baseX = x1 + (x2 - x1) * t;
                const baseY = y1 + (y2 - y1) * t;
                
                // Tremblement subtil - multiple fr√©quences pour effet organique
                const trembleX = Math.sin(time * 3 + t * 8) * 2 + 
                                 Math.sin(time * 5 + t * 12) * 1;
                const trembleY = Math.cos(time * 2.5 + t * 6) * 1.5 + 
                                 Math.cos(time * 4 + t * 10) * 0.8;
                
                // Att√©nuer aux extr√©mit√©s
                const edgeFactor = Math.sin(t * Math.PI);
                
                points.push({
                    x: baseX + trembleX * edgeFactor,
                    y: baseY + trembleY * edgeFactor
                });
            }
            
            // Dessiner la courbe
            ctx.strokeStyle = `rgba(0, 212, 255, ${opacity})`;
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            
            for (let i = 1; i < points.length - 1; i++) {
                const xc = (points[i].x + points[i + 1].x) / 2;
                const yc = (points[i].y + points[i + 1].y) / 2;
                ctx.quadraticCurveTo(points[i].x, points[i].y, xc, yc);
            }
            
            ctx.lineTo(points[points.length - 1].x, points[points.length - 1].y);
            ctx.stroke();
        }

        // ===== ANIMATION PRINCIPALE =====
        function animate() {
            time += 0.016;

            // FOND - Animation permanente
            let farX = Math.sin(time * 0.05) * 15;
            let farY = Math.cos(time * 0.05) * 10;
            
            let midX = Math.sin(time * 0.07) * 25;
            let midY = Math.cos(time * 0.07) * 15;
            
            let nearX = Math.sin(time * 0.08) * 35;
            let nearY = Math.cos(time * 0.08) * 20;

            farY -= scrollY * 0.15;
            midY -= scrollY * 0.3;
            nearY -= scrollY * 0.5;

            midX += mouseX * 15;
            midY += mouseY * 15;
            nearX += mouseX * 30;
            nearY += mouseY * 30;

            layerFar.style.transform = `translate(${farX}px, ${farY}px)`;
            layerMid.style.transform = `translate(${midX}px, ${midY}px)`;
            layerNear.style.transform = `translate(${nearX}px, ${nearY}px)`;

            // R√âSEAU - Visibilit√©
            const s1Top = sectionHeight;
            const networkEndPoint = sectionHeight * 4.6;
            
            if (scrollY > s1Top * 0.5 && scrollY < networkEndPoint) {
                canvasContainer.classList.add('visible');
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const networkOscillX = Math.sin(time * 0.03) * 8;
                const networkMouseX = mouseX * 25;

                const scrollInSections = scrollY - s1Top;
                const heightSections = networkEndPoint - s1Top;
                const scrollProgress = Math.min(scrollInSections / heightSections, 1);
                const networkScrollOffset = scrollProgress * 4.2;

                // Animation organique des branches
                branchNodes.forEach(node => {
                    node.angle += node.speed;
                    node.x = node.baseX + Math.sin(node.angle) * 0.01;
                    node.y = node.baseY + Math.cos(node.angle) * 0.015;
                });

                // Animation des n≈ìuds flottants
                nodes.forEach(node => {
                    node.angle += node.speed;
                    node.x = node.baseX + Math.sin(node.angle) * 0.04;
                    node.y = node.baseY + Math.cos(node.angle) * 0.04;
                });

                // ===== FILAMENTS PRINCIPAUX (tremblants et transparents) =====
                for (let i = 0; i < mainNodes.length - 1; i++) {
                    const node1 = mainNodes[i];
                    const node2 = mainNodes[i + 1];

                    const x1 = node1.x * canvas.width + networkOscillX + networkMouseX;
                    const y1 = (node1.section - networkScrollOffset) * canvas.height;
                    const x2 = node2.x * canvas.width + networkOscillX + networkMouseX;
                    const y2 = (node2.section - networkScrollOffset) * canvas.height;

                    // Filament tremblant et transparent
                    drawTremblingCurve(x1, y1, x2, y2, 0.15);
                }

                // N≈ìuds interm√©diaires (tr√®s discrets)
                intermediateNodes.forEach((node, idx) => {
                    const x = node.x * canvas.width + networkOscillX + networkMouseX;
                    const y = (node.section - networkScrollOffset) * canvas.height;

                    if (y < -50 || y > canvas.height + 50) return;

                    ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
                    ctx.beginPath();
                    ctx.arc(x, y, 1.5, 0, Math.PI * 2);
                    ctx.fill();
                });

                // N≈ìuds principaux (glow r√©duit)
                mainNodes.forEach((node, idx) => {
                    const x = node.x * canvas.width + networkOscillX + networkMouseX;
                    const y = (node.section - networkScrollOffset) * canvas.height;

                    if (y < -100 || y > canvas.height + 100) return;

                    // Glow tr√®s subtil
                    const glowGradient = ctx.createRadialGradient(x, y, 0, x, y, 20);
                    glowGradient.addColorStop(0, 'rgba(0, 212, 255, 0.15)');
                    glowGradient.addColorStop(0.6, 'rgba(123, 47, 247, 0.05)');
                    glowGradient.addColorStop(1, 'transparent');

                    ctx.fillStyle = glowGradient;
                    ctx.beginPath();
                    ctx.arc(x, y, 20, 0, Math.PI * 2);
                    ctx.fill();

                    // Point central discret
                    const pulse = Math.sin(time * 1.5 + idx) * 1;
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
                    ctx.beginPath();
                    ctx.arc(x, y, 3 + pulse, 0, Math.PI * 2);
                    ctx.fill();
                });

                // ===== BRANCHES (tr√®s discr√®tes) =====
                branchNodes.forEach((branch, idx) => {
                    const parent = mainNodes[branch.parentIdx];
                    
                    const px = parent.x * canvas.width + networkOscillX + networkMouseX;
                    const py = (parent.section - networkScrollOffset) * canvas.height;
                    const bx = branch.x * canvas.width + networkOscillX + networkMouseX;
                    const by = (branch.y - networkScrollOffset) * canvas.height;

                    if (py < -150 || py > canvas.height + 150) return;

                    // Ligne de branche tremblante
                    ctx.strokeStyle = `rgba(255, 255, 255, 0.08)`;
                    ctx.lineWidth = 0.5;
                    
                    ctx.beginPath();
                    ctx.moveTo(px, py);
                    
                    const tremble = Math.sin(time * 2 + idx) * 3;
                    const controlX = (px + bx) / 2 + tremble;
                    const controlY = (py + by) / 2;
                    ctx.quadraticCurveTo(controlX, controlY, bx, by);
                    ctx.stroke();

                    // N≈ìud de branche tr√®s discret
                    ctx.fillStyle = `rgba(255, 255, 255, ${branch.opacity * 0.4})`;
                    ctx.beginPath();
                    ctx.arc(bx, by, branch.size * 0.8, 0, Math.PI * 2);
                    ctx.fill();
                });

                // ===== N≈íUDS FLOTTANTS ET CONNEXIONS =====
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        const node1 = nodes[i];
                        const node2 = nodes[j];

                        const x1 = node1.x * canvas.width + networkOscillX + networkMouseX;
                        const y1 = (node1.y - networkScrollOffset) * canvas.height;
                        const x2 = node2.x * canvas.width + networkOscillX + networkMouseX;
                        const y2 = (node2.y - networkScrollOffset) * canvas.height;

                        if (y1 < -100 || y1 > canvas.height + 100 || y2 < -100 || y2 > canvas.height + 100) continue;

                        const dx = x2 - x1;
                        const dy = y2 - y1;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < CONFIG.maxConnectionDistance) {
                            const opacity = (1 - distance / CONFIG.maxConnectionDistance) * 0.12;
                            
                            ctx.strokeStyle = `rgba(255, 255, 255, ${opacity})`;
                            ctx.lineWidth = 0.5;
                            ctx.beginPath();
                            ctx.moveTo(x1, y1);
                            ctx.lineTo(x2, y2);
                            ctx.stroke();
                        }
                    }
                }

                // N≈ìuds flottants
                nodes.forEach(node => {
                    const x = node.x * canvas.width + networkOscillX + networkMouseX;
                    const y = (node.y - networkScrollOffset) * canvas.height;

                    if (y < -50 || y > canvas.height + 50) return;

                    ctx.fillStyle = `rgba(255, 255, 255, ${node.opacity * 0.5})`;
                    ctx.beginPath();
                    ctx.arc(x, y, node.size * 0.4, 0, Math.PI * 2);
                    ctx.fill();
                });

                // Point final (invitation) - subtil
                const lastMain = mainNodes[mainNodes.length - 1];
                const lastX = lastMain.x * canvas.width + networkOscillX + networkMouseX;
                const lastY = (lastMain.section - networkScrollOffset) * canvas.height;

                if (lastY > -50 && lastY < canvas.height + 50) {
                    const pulseSize = 4 + Math.sin(time * 2) * 1.5;
                    
                    // Halo subtil
                    const haloGradient = ctx.createRadialGradient(lastX, lastY, 0, lastX, lastY, 25);
                    haloGradient.addColorStop(0, 'rgba(123, 47, 247, 0.15)');
                    haloGradient.addColorStop(0.6, 'rgba(0, 212, 255, 0.05)');
                    haloGradient.addColorStop(1, 'transparent');
                    
                    ctx.fillStyle = haloGradient;
                    ctx.beginPath();
                    ctx.arc(lastX, lastY, 25, 0, Math.PI * 2);
                    ctx.fill();

                    // Point central
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                    ctx.beginPath();
                    ctx.arc(lastX, lastY, pulseSize, 0, Math.PI * 2);
                    ctx.fill();
                }

            } else {
                canvasContainer.classList.remove('visible');
            }

            requestAnimationFrame(animate);
        }

        // ===== R√âV√âLATION AU SCROLL =====
        function checkReveal() {
            const contentBoxes = document.querySelectorAll('[data-reveal]');
            
            contentBoxes.forEach(box => {
                const rect = box.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                if (rect.top < windowHeight * 0.75 && rect.bottom > 0) {
                    box.classList.add('visible');
                }
            });

            const s5 = document.getElementById('s5');
            const s5Rect = s5.getBoundingClientRect();
            
            if (s5Rect.top < window.innerHeight * 0.6) {
                invitationLine.classList.add('visible');
                setTimeout(() => {
                    experienceBtn.classList.add('visible');
                }, 600);
            }
        }

        // ===== EVENT LISTENERS =====
        document.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX / window.innerWidth) - 0.5;
            mouseY = (e.clientY / window.innerHeight) - 0.5;
        });

        mainContainer.addEventListener('scroll', (e) => {
            scrollY = e.target.scrollTop;
            nav.classList.toggle('scrolled', scrollY > 100);
            checkReveal();
        });

        setTimeout(() => {
            nav.classList.add('visible');
        }, 1800);

        document.getElementById('burger').addEventListener('click', () => {
            document.getElementById('navLinks').classList.toggle('active');
        });

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const target = document.querySelector(link.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
                document.getElementById('navLinks').classList.remove('active');
            });
        });

        experienceBtn.addEventListener('click', () => {
            console.log('Exp√©rience d√©marr√©e !');
        });

        // ===== INITIALISATION =====
        animate();
        checkReveal();
        
        console.log('üåå Parallax Galaxy v5 - Subtle & organic');
    </script>
</body>
</html>
